{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/404/page-not-found.component.ts","./src/app/404/page-not-found.component.html","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/client/client.component.ts","./src/app/client/client.component.html","./src/app/core/com.service.ts","./src/app/core/to-safe.pipe.ts","./src/app/manage/manage.component.ts","./src/app/manage/manage.component.html","./src/app/server/server.component.ts","./src/app/server/server.component.html","./src/app/shared/chat-content/chat-content.component.ts","./src/app/shared/chat-content/chat-content.component.html","./src/app/shared/chat-unread/chat-unread.component.ts","./src/app/shared/chat-unread/chat-unread.component.html","./src/app/shared/edit-operate/edit-operate.component.ts","./src/app/shared/edit-operate/edit-operate.component.html","./src/app/shared/send-area/send-area.component.ts","./src/app/shared/send-area/send-area.component.html","./src/assets/js/calendar.js","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { Component, OnInit } from '@angular/core';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-page-not-found',\n  templateUrl: './page-not-found.component.html',\n  styleUrls: ['./page-not-found.component.css']\n})\nexport class PageNotFoundComponent implements OnInit {\n\n  constructor() { }\n\n  pageHeight: number;\n  pageWidth: number;\n\n  ngOnInit() {\n    this.pageHeight = window.innerHeight;\n    this.pageWidth = window.innerWidth;\n    console.log({\n      DATA: this.pageHeight,\n      SDGS:  this.pageWidth\n    })\n    window.onresize = (event) => {\n      this.pageHeight = window.innerHeight;\n      this.pageWidth = window.innerWidth;\n    };\n  }\n\n}\n","<div class=\"d-flex justify-content-center align-items-center \" style=\"font-size: 40px;height: 100%;\">\n  <div class=\"\">\n    <div style=\"font-size: 200%;\">404</div>\n    <div>Page Not Found</div>\n    <a [routerLink]=\"[ '/' ]\" [ngStyle]=\"{'font-size': '14px'}\">back to index page</a>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { ClientComponent } from './client/client.component';\nimport { ServerComponent } from './server/server.component';\nimport { ManageComponent } from './manage/manage.component';\nimport { PageNotFoundComponent } from './404/page-not-found.component';\nconst routes: Routes = [\n  { path:'auth',loadChildren:()=>import('./auth/auth.module').then(mod=>mod.AuthModule)},\n  { path: 'client', component: ClientComponent },\n  { path: 'server', component: ServerComponent  },\n  { path: 'manage', component: ManageComponent  },\n  { path:'',redirectTo:'/client',pathMatch:'full'},\n  { path: '**', component:   PageNotFoundComponent},\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes), FormsModule, ReactiveFormsModule],\n  exports: [RouterModule],\n})\nexport class AppRoutingModule {}\n","import { Component,OnInit } from '@angular/core';\nimport {ComService} from  './core/com.service'\n \n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n})\nexport class AppComponent implements OnInit {\n  \n  constructor(public com :ComService){\n\n  }\n  ngOnInit(): void {    \n  }\n\n   \n  \n}\n"," \r\n<router-outlet></router-outlet>\r\n<div class=\"alert \" [class]=\"com.alert?.show?'':'d-none'\">{{com.alert?.msg}}</div>\r\n\r\n<div class=\"mask ie-scroll other-scroll\" *ngIf=\"com.previewOption.isShowMask\" (click)=\"com.previewOption.isShowMask= false\">\r\n    <img [src]=\"com.previewOption.src\"  onerror=\"this.src='/assets/images/error.jpg'\">\r\n</div>","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { ClientComponent } from './client/client.component';\nimport { ServerComponent } from './server/server.component';\nimport { ManageComponent } from './manage/manage.component';\nimport { PageNotFoundComponent } from './404/page-not-found.component';\nimport { SendAreaComponent } from './shared/send-area/send-area.component';\nimport { EditOperateComponent } from './shared/edit-operate/edit-operate.component';\nimport { ChatContentComponent } from './shared/chat-content/chat-content.component';\nimport {ToSafePipe} from './core/to-safe.pipe';\nimport { ChatUnreadComponent } from './shared/chat-unread/chat-unread.component'\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ClientComponent,\n    ServerComponent,\n    ManageComponent,\n    PageNotFoundComponent,\n    SendAreaComponent,\n    EditOperateComponent,\n    ChatContentComponent,\n    ToSafePipe,\n    ChatUnreadComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    FormsModule,\n    ReactiveFormsModule,\n    HttpClientModule,\n    BrowserAnimationsModule,\n    HttpClientModule\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Component, OnInit, SimpleChanges } from '@angular/core';\nimport { ActivatedRoute, Params } from '@angular/router';\nimport { ComService } from '../core/com.service';\n\n@Component({\n  selector: 'app-client',\n  templateUrl: './client.component.html',\n  styleUrls: ['./client.component.css'],\n})\nexport class ClientComponent implements OnInit {\n  constructor(private com: ComService, private route: ActivatedRoute) {}\n  chatList:any = [];\n  ws:any;\n  myID:number;\n  chatElem :any;\n  keepEnd:boolean = false;\n  // 文件列表\n  files :any []=[] ;\n  // 编辑框数组\n  editData:any =[];\n  cuFile:any ;\n  unreadOption:{unread:number,scrollHeight:number}={unread:0,scrollHeight:0};\n  ngOnInit(): void {\n    // domain=xx&mall=xxx\n    let search =  window.location.search.substring(1);  \n    let random = Date.now().toString();\n    this.com.pollingStart(this,random,search);\n    \n    this.chatElem = document.getElementById('chat');    \n  }\n  \n  getHistory(){\n      this.com.getHistory(this,null,(data)=>{\n      this.chatList = data || [];\n       setTimeout(()=>{\n        this.toBottom();  \n      },500)        \n    })\n  }\n  toBottom(){\n     this.chatElem.scrollTop = this.chatElem.scrollHeight  ;\n  }\n  \n  sendListen(content){    \n    content.isServer = false;\n    content.position= false;\n    this.chatList.push(content);\n  }\n  fileEmiter(e){\n    this.keepEnd = true;\n  }\n \n}\n","<div class=\"container  clearfix\" id=\"main\">\n\n  <div class=\"title bg-base noselect \" id=\"title\">\n    <img src=\"assets/images/logo.png\" ondragStar=\"return false\" class=\"vm\" id=\"logo\">\n    <span>在线客服</span>\n  </div>\n\n  <div class=\"content \">\n\n    <div class=\"chat ie-scroll other-scroll\" id='chat'>\n      <div class=\"chat-details pos-r\" >\n        <!-- 提示信息 -->\n        <div>\n          <p>商城客服工作时间为工作日的9:00~21:00</p>\n          <!-- <p>您好，请问有什么可以帮助您？</p> -->\n        </div>\n\n       <chat-content [chatList]=\"chatList\" (sendListen)=\"sendListen($event)\"></chat-content>\n\n        <!-- 客服 \n\n            <p class=\"dialog\">\n                    <span class=\"iconfont icon-yonghu3 text-lighter-base vb-before mr-1\"></span>\n                    <span class=\"chat-content  bg-light-base tleft pos-r\">\n                        <span class=\"chat-content-txt text-left client-content \"><img src=\"http://demo.cssmoban.com/cssthemes5/cpts_1383_cij/assets/images/slider_img1.png\" style=\"max-width:100%\"></span>\n                    </span>\n                </p>\n            <p class=\"dialog text-right\">\n                <span class=\"chat-content  bg-light-base tright pos-r mr-1 text-left\">\n                    <span>请问您现在停留在哪个页面，是在订单确认还是银联付款页面?请问您现在停留在哪个页面，是在订单确认还是银联付款页面</span>\n                </span>\n                <span class=\"iconfont icon-kefu text-lighter-base vb-before \"></span>\n            </p>\n            <p class=\"dialog text-right\">\n\n                <span class=\"chat-content  bg-light-base tright pos-r mr-1 text-left\">\n                    <span><img src=\"http://demo.cssmoban.com/cssthemes5/cpts_1383_cij/assets/images/slider_img1.png\" style=\"max-width:100%\"></span>\n                </span>\n                <span class=\"iconfont icon-kefu text-lighter-base vb-before \"></span>\n            </p>  \n            <p class=\"time\">2019/02/08 10:11:11</p>-->\n            <chat-unread [who]=\"this\" [unread]=\"unreadOption.unread\"></chat-unread>\n      </div>\n    </div>\n    <div class=\"edit-area\" id=\"edit\">\n      <edit-operate [who]=\"this\" (fileEmiter)=\"fileEmiter($event)\"></edit-operate>\n      <send-area   (sendListen)=\"sendListen($event)\" [keepEnd]=\"keepEnd\" [who]=\"this\"></send-area>\n    </div>\n  </div>\n</div>","import {\n  HttpClient,\n  HttpErrorResponse,\n  HttpEventType,\n  HttpRequest,\n  HttpResponse,\n} from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n@Injectable({\n  providedIn: 'root',\n})\nexport class ComService {\n  // 错误消息提示\n  alert: { msg: string; show: boolean } = { msg: '', show: false };\n  ws: any;\n  data: any = {};\n  previewOption: { isShowMask: boolean; src?: string } = {\n    isShowMask: false,\n  };\n\n  api = {\n    login: '/api/auth/login', //post\n    register: '/api/auth/register', //post\n    message: '/api/message/', //post\n    polling: '/api/message/polling', //get\n    history: '/api/message/record', //get\n    userList: '/api/user/list', // get\n    logout: '/api/auth/logout', //post\n    userInfo: '/api/user/', //{uid},get\n    files: '/file/', // 上传文件\n  };\n  isLogin: boolean = true;\n  constructor(private http: HttpClient, private router: Router) {\n    this.windowActive();\n  }\n  isWindowActive: boolean = true;\n  // 格式化时间\n  formatTime(\n    date: string | number | Date = '' /* 日期，可选默认今天 */,\n    fmt = 'YYYY-MM-DD' /*格式字符串默认YYYY-MM-DD hh:mm:ss */\n  ) {\n    //兼容ios\n    if (typeof date === 'string') {\n      date = date.replace(/-/g, '/');\n    }\n    date = date ? new Date(date) : new Date();\n    var o = {\n      'Y+': date.getFullYear(), //年\n      'M+': date.getMonth() + 1, //月份\n      'D+': date.getDate(), //日\n      'h+': date.getHours(), //小时\n      'm+': date.getMinutes(), //分\n      's+': date.getSeconds(), //秒\n      'q+': Math.floor((date.getMonth() + 3) / 3), //季度\n      S: date.getMilliseconds(), //毫秒\n    };\n    if (/(Y+)/.test(fmt)) {\n      fmt = fmt.replace(RegExp.$1, (o['Y+'] + '').substr(4 - RegExp.$1.length));\n    }\n    for (var k in o) {\n      if (new RegExp('(' + k + ')').test(fmt)) {\n        fmt = fmt.replace(\n          RegExp.$1,\n          RegExp.$1.length == 1\n            ? o[k]\n            : ('00' + o[k]).substr(('' + o[k]).length)\n        );\n      }\n    }\n    return fmt;\n  }\n  timeFromNow(time) {\n    //时间转换\n    const timestamp = Date.now();\n    const createTime = new Date(time);\n    time = createTime.getTime();\n    const diff = timestamp - time;\n    if (diff < 60 * 1000) {\n      return '';\n    } else if (diff < 60 * 60 * 1000) {\n      return Math.floor(diff / (60 * 1000)) + '分钟前';\n    } else if (diff < 24 * 60 * 60 * 1000) {\n      return Math.floor(diff / (60 * 60 * 1000)) + '小时前';\n    } else {\n      return this.formatTime(time, 'YYYY-MM-DD hh:mm');\n    }\n  }\n  windowActive() {\n    var hiddenProperty =\n      'hidden' in document\n        ? 'hidden'\n        : 'webkitHidden' in document\n        ? 'webkitHidden'\n        : 'mozHidden' in document\n        ? 'mozHidden'\n        : null;\n    var visibilityChangeEvent = hiddenProperty.replace(\n      /hidden/i,\n      'visibilitychange'\n    );\n    var onVisibilityChange = function () {\n      if (document[hiddenProperty]) {\n        // 未激活状态！-发送桌面通知\n        this.isWindowActive = true;\n      } else {\n        // '激活状态！\n        this.isWindowActive = false;\n      }\n    };\n    document.addEventListener(visibilityChangeEvent, onVisibilityChange);\n    window.onblur = () => {\n      this.isWindowActive = false;\n    };\n    window.onfocus = () => {\n      this.isWindowActive = true;\n    };\n  }\n  showAlert(msg) {\n    this.alert.show = true;\n    this.alert.msg = msg;\n    setTimeout(() => {\n      this.alert.show = false;\n    }, 2000);\n  }\n\n  doHttpResponse(res, success, fail?) {\n    let code = res.code;\n    if (code) {\n      if (code === 3 || code === 6) {\n        // 未登录\n        this.isLogin = false;\n        this.showAlert('登录失效，请重新登录');\n        setTimeout(() => {\n          this.router.navigate(['/auth/login']);\n        }, 2000);\n      } else {\n        fail ? fail(res) : this.showAlert(res.msg);\n      }\n    } else {\n      // 成功\n      success && success(res.data);\n    }\n  }\n  // 发送消息\n  sendMsg(msg, success?, fail?) {\n    this.http\n      .post(this.api.message, msg)\n      .pipe(\n        catchError(\n          this.handleError('sendMsg', () => {\n            fail && fail();\n          })\n        )\n      )\n      .subscribe((res) => {\n        this.doHttpResponse(\n          res,\n          (data) => {\n            success && success(data);\n          },\n          fail\n        );\n      });\n  }\n  private handleError(uri: string, failCallback?) {\n    return (error: HttpErrorResponse) => {\n      console.dir(error);\n      if (failCallback) {\n        setTimeout(() => {\n          failCallback();\n        }, 3000);\n      } else {\n        this.showAlert('http request ' + uri + ' error ');\n      }\n\n      if (error.error instanceof ErrorEvent) {\n        // A client-side or network error occurred. Handle it accordingly.\n        console.error(\n          'A client-side or network error occurred. Handle it accordingly.'\n        );\n        this.showAlert('网络错误');\n      } else {\n        // The backend returned an unsuccessful response code.\n        // The response body may contain clues as to what went wrong.\n        console.error(\n          `Backend returned code ${error.status}, ` + `body was: ${error.error}`\n        );\n        this.showAlert('后端服务器错误');\n      }\n      // Return an observable with a user-facing error message.\n      return throwError('Something bad happened; please try again later.');\n    };\n  }\n  // 开启轮询\n  pollingStart(obj, random: string, domain?: string) {\n    let options: any = {\n      observe: 'response',\n    };\n\n    this.http\n      .get(\n        this.api.polling + '?random=' + random + (domain ? '&' + domain : ''),\n        options\n      )\n      .pipe(\n        catchError(\n          this.handleError('polling', () => {\n            this.pollingStart(obj, random, domain);\n          })\n        )\n      )\n      .subscribe((res: any) => {\n        if (!obj.myID) {\n          obj.myID = Number(res.headers.get('Uid'));\n        }\n        // 新建立的连接，要渲染历史记录\n        let isNewConnect = res.headers.get('Request-Times') === '1';\n        let ret = res.body;\n        let isServer = 'rid' in obj;\n        this.doHttpResponse(ret, (data) => {\n          console.log('data: ', data);\n          if (isNewConnect) {\n            if (!isServer) {\n              data.forEach((d) => {\n                this.attachSPT(obj, d, isServer);\n              });\n\n              obj.chatList = data || [];\n              setTimeout(() => {\n                obj.toBottom();\n              }, 500);\n            }\n          } else {\n            // 渲染数据到聊天窗口\n            data && this.doPolling(data, obj, isServer);\n          }\n        });\n        // 获取到数据-直接轮询\n        this.isLogin && this.pollingStart(obj, random, domain);\n      });\n  }\n  // 图片预览\n  preview(file, callback) {\n    var reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = (e) => {\n      callback(e.target.result);\n    };\n  }\n  // 上传文件\n  uploadFile(fileObj, callback, progressCallback?) {\n    const formData = new FormData();\n    formData.append('file', fileObj.file);\n    let api = 'https://io.imdraw.com:444';\n    const req = new HttpRequest('POST', api, formData, {\n      reportProgress: true,\n    });\n    this.http\n      .request(req)\n      .pipe(\n        catchError(\n          this.handleError('uploadFile', () => {\n            callback(fileObj, true);\n            this.showAlert('文件服务器故障!');\n          })\n        )\n      )\n      .subscribe((event) => {\n        if (event.type === HttpEventType.UploadProgress) {\n          fileObj.uploadProgress = Math.round(\n            (100 * event.loaded) / event.total\n          );\n          progressCallback && progressCallback(fileObj);\n        } else if (event instanceof HttpResponse) {\n          let body: any = event.body;\n          fileObj.src = api + '/' + body.key;\n          fileObj.type === 'file' && (fileObj.src += '?operation=download');\n          callback(fileObj);\n        }\n      });\n  }\n\n  debounce(fn, delay = 1000) {\n    var timeout;\n    return function () {\n      clearTimeout(timeout);\n      timeout = setTimeout(fn.bind(this, ...arguments), delay);\n    };\n  }\n  // fid 接收者=我 右， 不是我 左\n  /**\n   *\n   * @param data\n   * @param obj\n   * @param isServer\n   */\n  doPolling(data, obj, isServer?) {\n    console.log('doPolling: ', data);\n    data.forEach((d) => {\n      let fid = d.fid;\n      let isISend = fid === obj.myID;\n      let type = d.type;\n      switch(type){\n          // 普通消息\n        case 0:\n          this.doType0(isISend,obj,d,isServer)\n          break;\n          // 已读未读消息\n        case 1:\n          this.doType1(d, obj, isISend,isISend);\n          break;\n          // 上下线消息\n        case 3:\n          this.doType3(isISend, d, isServer, obj);\n          break;\n      }      \n    });\n    obj.toBottom();\n  }\n  // 处理已读未读消息\n  doType1(d, obj, isISend,isServer) {\n    // 已读未读消息\n    if (!isISend) {\n      if (isServer) {\n        // 服务端\n        // 发来的是自己吗-是的话就不用改变-不是就要判断\n        if(!isISend){\n          // 判断发来的是当前用户吗\n          let isCuUserSend =obj.user.id === d.fid;\n          if(isCuUserSend){\n            // 当前用户发来的设置已读\n            let i = obj.chatList.findIndex(x=>x.id === d.id);\n            i>-1 && (obj.chatList[i].readed = true)\n          }else{\n            // 判断发来的是在用户列表的用户吗\n            let isUserInList = obj.userList.findIndex(x=>x.id === d.fid)>-1\n            if(isUserInList){\n              // 是列表中的用户发来的已读消息-不用处理\n              console.log('是列表中的用户发来的已读消息-不用处理: ');\n            }else{\n              // 不是列表总的用户发来的-用户入用户列表？不处理-看是否有这个用户\n              console.log('不是列表总的用户发来的-用户入用户列表？不处理-看是否有这个用户: ');\n            }\n          }\n        }\n      } else {\n        // 客户端\n        let i = obj.chatList.findeIndex((x) => x.id === d.id);\n        i > -1 && (obj.chatList[i].readed = true);\n      }\n    }\n  }\n  // 处理上下限消息\n  doType3(isISend, d, isServer, obj) {\n    isISend &&\n      this.showAlert(\n        '游客' + d.fid + (d.data === 'online' ? '上' : '离') + '线'\n      );\n    // 客服端 处理一下用户列表用户上下线显示\n    if (isServer) {\n      let i = obj.userList.findIndex((x) => x.id === d.fid);\n\n      i > -1 && (obj.userList[i].state = d.data === 'online');\n      console.log('type=3', i, d, obj.userList[i].state);\n    }\n  }\n  // 处理普通消息\n  doType0(isISend,obj,d,isServer) {\n    let fid = d.fid;\n    this.attachSPT(obj, d, isServer);\n    if (!isISend) {\n      // 不是我发送的消息-判断是客服端还是服务端\n      let chatScrollTop = obj.chatElem.scrollTop;\n      if (isServer) {\n        // 客服端-判断发送方是正在谈话的一方吗\n        let isCuUserSend = fid === (obj.user && obj.user.id);\n        d.state = true;\n        if (isCuUserSend) {\n          obj.chatList.push(d);\n          let name =\n            obj.user && obj.user.name\n              ? '用户' + obj.user.name\n              : '游客' + fid;\n          !this.isWindowActive &&\n            this.deskNotify('消息提示', name + '发来一条新消息');\n            \n            if(this.isWindowActive){\n              // 当前用户激活窗口\n              if(chatScrollTop===0){\n                // 直接发送已读消息\n                this.sendMsg({id:d.id,rid:obj.user.id,type:1})\n              }else{\n                // 有滚动条-直接设置未读已读\n                obj.user.unreadOption = obj.user.unreadOption ||{};\n                obj.user.unreadOption.unread ++;\n                obj.user.unreadOption.scrollHeight = obj.chatElem.scrollHeight;\n              }\n            }else{\n               // 未激活-直接设置未读已读\n               obj.user.unreadOption = obj.user.unreadOption ||{};\n               obj.user.unreadOption.unread ++;\n               obj.user.unreadOption.scrollHeight = obj.chatElem.scrollHeight;\n            }\n\n        } else {\n          // 不是当前用户发来的消息-判断该用户是否已经在用户列表了\n          let userIndex = obj.userList.findIndex((u) => u.id === fid);\n          let isInUserList = userIndex > -1;\n          if (isInUserList) {\n            let name =\n              obj.userList[userIndex] && obj.userList[userIndex].name\n                ? '用户' + obj.userList[userIndex].name\n                : '游客' + fid;\n            this.deskNotify('消息提示', name + '发来一条新消息');\n            obj.userList[userIndex].unreadOption = obj.userList[userIndex].unreadOption || {};\n                obj.user.unreadOption.unread ++;\n                obj.user.unreadOption.scrollHeight = obj.chatElem.scrollHeight;\n\n          } else {\n            // 不在用户列表-获取用户信息-推送用户到列表\n\n            this.getUserInfo(fid, (userInfo) => {\n              obj.userList.unshift(userInfo);\n              let name = userInfo.name\n                ? '用户' + userInfo.name\n                : '游客' + fid;\n              d.state = true;\n              !this.isWindowActive &&\n                this.deskNotify('消息提示', name + '发来一条新消息');\n               userInfo.unreadOption = userInfo.unreadOption || {};\n               userInfo.unreadOption.unread ++;\n               userInfo.unreadOption.scrollHeight = obj.chatElem.scrollHeight;\n            });\n          }\n        }\n      } else {\n        // 客户端-显示在左侧\n        obj.chatList.push(d);\n        !this.isWindowActive &&\n          this.deskNotify('消息提示', '有一条新消息回复');\n        // 给加未读和设置已读消息\n        \n        if(this.isWindowActive){\n          // 窗口激活\n          if(chatScrollTop === 0){\n            // 窗口没有滚动条-直接阅读了消息-发送已阅读消息\n            this.sendMsg({id:d.id,type:1})\n            d.readed = true;\n          }else{\n            // 有滚动条- 设置未读消息数\n            obj.unreadOption.unread ++;\n            obj.unreadOption.scrollHeight = obj.chatElem.scrollHeight\n          }\n        }else{\n          // 窗口未激活-增加未读\n          obj.unreadOption.unread ++;\n          obj.unreadOption.scrollHeight = obj.chatElem.scrollHeight\n        }\n      }\n    } else {\n      // 是我发送的，先看在不在列表中，不在的话就推到列表中      \n      let i = obj.chatList.findIndex((x) => x.mark === d.mark);\n      i === -1 && obj.chatList.push(d);\n    }\n  }\n  // 处理历史消息\n  doHistory(data,isServer){\n    // 设置未读数-和对方一堆信息标志\n    // 客户端 判断最后一条消息是不是客户消息，是的话默认全部客服unreadOption.unread=0,否则看最后一条消息是不是两个读者，是的话就是chatList[len-1]:unread\n    let lastMsg = data[data.length-1];\n    console.log('lastMsg: ', lastMsg);\n    data.foreach(el=>{\n      if(isServer){\n\n      }else{\n        // 客户端\n        \n      }\n    })\n  }\n  // 获取用户列表\n  getUserList(success) {\n    this.http\n      .get(this.api.userList)\n      .pipe(catchError(this.handleError('getUserList')))\n      .subscribe((res) => {\n        this.doHttpResponse(res, success);\n      });\n  }\n  getUserInfo(id, cb) {\n    this.http\n      .get(this.api.userInfo + id)\n      .pipe(catchError(this.handleError('getUserInfo')))\n      .subscribe((res: any) => {\n        this.doHttpResponse(res, cb);\n      });\n  }\n  login(data) {\n    this.http\n      .post(this.api.login, data)\n      .pipe(catchError(this.handleError('login')))\n      .subscribe((res) => {\n        this.doHttpResponse(res, () => {\n          this.showAlert('登录成功');\n          this.isLogin = true;\n          // 登录成功跳转客服页面\n          setTimeout(() => {\n            this.router.navigate(['/server']);\n          }, 2000);\n        });\n      });\n  }\n  register(data) {\n    this.http\n      .post(this.api.register, data)\n      .pipe(catchError(this.handleError('register')))\n      .subscribe((res) => {\n        this.doHttpResponse(res, () => {\n          this.showAlert('注册成功，马上跳转登录');\n          setTimeout(() => {\n            this.router.navigate(['/auth/login']);\n          }, 2000);\n        });\n      });\n  }\n\n  logout() {\n    this.http\n      .post(this.api.logout, null)\n      .pipe(catchError(this.handleError('logout')))\n      .subscribe((res) => {\n        this.doHttpResponse(res, () => {\n          this.showAlert('登出成功!');\n          setTimeout(() => {\n            this.router.navigate(['/auth/login']);\n          }, 2000);\n        });\n      });\n  }\n  getHistory(obj, id, success) {\n    let options: any = {\n      observe: obj.myID ? 'body' : 'response',\n    };\n    let isResponseObserv = options.observe === 'response';\n    let isServer = 'rid' in obj;\n    this.http\n      .get(this.api.history + (id ? '?id=' + id : ''), options)\n      .pipe(catchError(this.handleError('getHistory')))\n      .subscribe((res: any) => {\n        if (!obj.myID && isResponseObserv) {\n          obj.myID = Number(res.headers.get('Uid'));\n        }\n        let ret = isResponseObserv ? res.body : res;\n        this.doHttpResponse(ret, (data) => {\n          data && data.reverse();\n          data &&\n            data.forEach((d) => {\n              this.attachSPT(obj, d, isServer);\n            });\n\n          success(data);\n        });\n      });\n  }\n\n  attachSPT(obj, d, isServer) {\n    let isIsend = d.fid === obj.myID;\n\n    d.isServer = isServer ? isIsend : !isIsend;\n    d.position = !isIsend;\n    d.timeStr = this.timeFromNow(d.time / 1000000);\n    d.timeFormat = this.formatTime(d.time / 1000000, 'YYYY-MM-DD hh:mm:ss');\n  }\n  timer: any;\n  notifyInstanceEvent(instance) {\n    instance.onclick = function (e) {\n      console.log('click: ', e);\n      window.focus();\n      instance.close();\n    };\n    instance.onerror = function () {};\n    instance.onshow = function () {};\n    instance.onclose = function () {};\n  }\n  deskNotify(title, msg) {\n    let img = '/assets/images/desk-logo.png';\n    var Notification = window.Notification;\n\n    if (Notification) {\n      //支持桌面通知\n      if (Notification.permission == 'granted') {\n        //已经允许通知\n        var instance = new Notification(title, {\n          body: msg,\n          icon: img,\n          data: 'localhost/server',\n        });\n        this.notifyInstanceEvent(instance);\n      } else {\n        //第一次询问或已经禁止通知(如果用户之前已经禁止显示通知，那么浏览器不会再次询问用户的意见，Notification.requestPermission()方法无效)\n        Notification.requestPermission(function (status) {\n          if (status === 'granted') {\n            //用户允许\n            var instance = new Notification(title, {\n              body: msg,\n              icon: img,\n            });\n            this.notifyInstanceEvent(instance);\n          } else {\n            //用户禁止\n            return false;\n          }\n        });\n      }\n    } else {\n      //不支持(IE等)\n      var index = 0;\n      clearInterval(this.timer);\n      this.timer = setInterval(function () {\n        let titleElem = document.getElementsByName('title')[0];\n        if (index % 2) {\n          titleElem.innerText = '【　　　】' + title; //这里是中文全角空格，其他不行\n        } else {\n          titleElem.innerText = '【新消息】' + title;\n        }\n        index++;\n\n        if (index > 20) {\n          clearInterval(this.timer);\n        }\n      }, 500);\n    }\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Pipe({\n  name: 'toSafe'\n})\nexport class ToSafePipe implements PipeTransform {\n  constructor(\n    private _sanitizer: DomSanitizer\n  ) { }\n  // args={url,html,}\n  transform(value: any, args?: any): any {\n    args = args || 'url';\n    return  this._sanitizer['bypassSecurityTrust'+ args[0].toUpperCase()+args.slice(1)](value);\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-manage',\n  templateUrl: './manage.component.html',\n  styleUrls: ['./manage.component.css']\n})\nexport class ManageComponent implements OnInit {\n\n  constructor() { }\n  serverUrl :string = \"http://localhost:4200/server\";\n  tabIndex :number = 0;\n  ngOnInit(): void {\n  }\n  changeTab(e){\n    console.dir(e.target)\n    let i  = Number(e.target.dataset.index);\n    !isNaN(i) && ( this.tabIndex = i);\n  }\n\n}\n","<div class=\"container clearfix\">\n    <div class=\"title bg-base noselect\" ondragstart=\"return false\" id=\"nameTitle\">\n        <img src=\"assets/images/logo.png\" class=\"vm\">\n        <span>在线客服</span>\n        <p class='fr name'>\n            <span>管理员01</span>\n            <span class=\"iconfont icon-true online\"></span>\n            <span class=\"state-txt\">在线</span>\n        </p>\n    </div>\n    <!-- 内容区 -->\n    <div class=\"content clearfix\" id=\"contentBox\">\n\n        <!-- 左侧客户列表 -->\n        <div class=\"fl left ie-scroll other-scroll \">\n            <div class=\"menu\">\n                <span class=\"iconfont icon-menu\" id=\"menu\"></span>\n            </div>\n            <ul id=\"customers\" class=\"customers\" (click)=\"changeTab($event)\">\n                <li [class]=\"tabIndex===0?'active':''\" data-index=\"0\" >客户管理</li>\n                <li data-index=\"1\" [class]=\"tabIndex===1?'active':''\">客服管理</li>\n                <li data-index=\"2\" [class]=\"tabIndex===2?'active':''\">聊天窗口</li>\n            </ul>\n\n        </div>\n\n\n        <!-- 右侧-->\n        <div class=\"fr right pos-r\" id=\"history\">\n\n            <h2 class=\"\"><span class=\"vm\">消息记录</span> <i\n                    class=\"iconfont text-base icon-close vm-before fr mr-1  csr\" id=\"lisi\"></i></h2>\n            <div class=\"history-content ie-scroll other-scroll\" >\n                <!-- 昨天有聊天的时间 hh:mm:ss 显示每条记录的时间客户 -->\n                <!-- 客户 \n                <div class=\"dialog-r\">\n                    <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n                    <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n                </div>-->\n                <!-- 客服 \n                <div class=\"dialog-r\">\n                    <p class=\"online\"><span>客服001</span> <span>12:34:15</span></p>\n                    <p class=\"ml-1\">聊天内容聊天内容</p>\n                </div>-->\n\n\n<!-- \n\n\n\n\n\n                <div class=\"dialog-r\">\n                    <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n                    <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n                </div>\n                <div class=\"dialog-r\">\n                    <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n                    <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n                </div>\n                <div class=\"dialog-r\">\n                    <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n                    <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n                </div>\n                <div class=\"dialog-r\">\n                    <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n                    <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n                </div>\n                <div class=\"dialog-r\">\n                    <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n                    <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n                </div>\n                <div class=\"dialog-r\">\n                    <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n                    <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n                </div>\n                <div class=\"dialog-r\">\n                    <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n                    <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n                </div>\n                <div class=\"dialog-r\">\n                    <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n                    <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n                </div>\n                <div class=\"dialog-r\">\n                    <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n                    <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n                </div> -->\n\n\n\n\n            </div>\n            <!-- 日历 -->\n            <div  >\n                <!-- 接入css -->\n                <div class=\"d-none pos-a calendar\" id=\"calendar\">\n                    <div id='schedule-box' class=\"boxshaw\">\n                    </div>\n                    <div>\n\n                    </div>\n                </div>\n                <div class=\"fixed-calendar boxshaw \" id=\"rili\">\n                    <span class=\"ml-1 csr\">\n                        <i class=\"iconfont icon-calendar text-base vm\" id=\"kanRili\"></i>\n                        <span id='riliTxt' class=\"vm\">2012-5-1</span>\n                    </span>\n\n                    <span class=\"history-op fr mr-1\">\n                        <i class=\"iconfont icon-left-stop bold\" title=\"第一页\"></i>\n                        <i class=\"iconfont icon-less-than\" title=\"上一页\"></i>\n                        <i class=\"iconfont icon-great-than\" title=\"下一页\"></i>\n                        <i class=\"iconfont icon-right-stop bold\" title=\"最后一页\"></i>\n                    </span>\n                </div>\n\n            </div>\n\n        </div>\n\n        <!-- 中/右侧聊天框 -->\n        <div class=\"center\" id=\"center\">\n            <!-- 客户管理 -->\n            <div class=\"customer-list ie-scroll other-scroll\" [class]=\"tabIndex===0?'':'d-none'\">\n                <table>\n                    <thead>\n                        <tr>\n                            <th class=\"th-tag\"></th>\n                            <th>访客姓名</th>\n                            <th>访问次数</th>\n                            <th>地区</th>\n                            <th class=\"d-sm-none\">停留时间</th>\n                            <th class=\"d-sm-none\">最后活动</th>\n                            <th>IP地址</th>\n                            <th>当前接待</th>\n                            <th>操作</th>\n                        </tr>\n                    </thead>\n                    <tbody id=\"tbContent\">\n                        <tr>\n                            <td class=\"th-tag\"><span class=\"icon new\">新</span></td>\n                            <td>秦某某</td>\n                            <td>03</td>\n                            <td>河北省</td>\n                            <td class=\"d-sm-none\">00:00:37</td>\n                            <td class=\"d-sm-none\">00:00:37</td>\n                            <td>127.0.0.1</td>\n                            <td>客服01</td>\n                            <td class=\"pos-r\">\n                                <i class=\"iconfont icon-search\"></i>\n                                <ul class=\"pos-a search-menu\">\n                                    <li class=\"active\">聊天记录</li>\n                                    <li>历史轨迹</li>\n                                </ul>\n                            </td>\n                        </tr>\n\n                        <tr>\n                            <td class=\"th-tag\"><span class=\"icon new\">新</span></td>\n                            <td>秦某某</td>\n                            <td>03</td>\n                            <td>河北省</td>\n                            <td class=\"d-sm-none\">00:00:37</td>\n                            <td class=\"d-sm-none\">00:00:37</td>\n                            <td>127.0.0.1</td>\n                            <td>客服01</td>\n                            <td>\n                                <i class=\"iconfont icon-search\"></i>\n\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n\n                <!-- 页码 -->\n                <ul id=\"pagenation\" class=\"page\"></ul>\n            </div>\n\n            <!-- 客服管理 -->\n            <div class=\"customer-list server-manage ie-scrollother-scroll\" [class]=\"tabIndex===1?'':'d-none'\">\n                <h3>所有客服</h3>\n                <ul>\n                    \n                    <li >\n                        <div class=\"name-online\">\n                            <div class=\"d-inline-block\">\n                                <span class=\"icon-container d-inline-block\"><i class=\"iconfont icon-server\"></i></span>\n                                <span>客服001</span>\n                            </div>\n                            <div class=\"online-info fr \">\n                                <span class=\"circle\"></span>\n                                <span>在线</span>\n                            </div>\n                           \n                        </div>\n\n                        <div>\n                            <div class=\"dialog-info d-inline-block\">\n                                <div class=\"text-right\">\n                                    <span class=\"fl mr-1\">当前对话</span>\n                                    <span class=\"dialog-txt\">4</span>\n                                </div>\n                                <div class=\"text-right\">\n                                    <span class=\"fl mr-1\">今日对话</span>\n                                    <span class=\"dialog-txt\">15</span>\n                                </div>\n                            </div>\n                             \n                                <button class=\"fr btn-dialog\" data-id=\"1\">对话记录</button>\n                           \n                        </div>\n                    </li>\n\n                    <li >\n                        <div class=\"name-online\">\n                            <div class=\"d-inline-block\">\n                                <span class=\"icon-container d-inline-block\"><i class=\"iconfont icon-server\"></i></span>\n                                <span>客服001</span>\n                            </div>\n                            <div class=\"online-info fr \">\n                                <span class=\"circle\"></span>\n                                <span>在线</span>\n                            </div>\n                           \n                        </div>\n\n                        <div>\n                            <div class=\"dialog-info d-inline-block\">\n                                <div class=\"text-right\">\n                                    <span class=\"fl mr-1\">当前对话</span>\n                                    <span class=\"dialog-txt\">4</span>\n                                </div>\n                                <div class=\"text-right\">\n                                    <span class=\"fl mr-1\">今日对话</span>\n                                    <span class=\"dialog-txt\">15</span>\n                                </div>\n                            </div>\n                             \n                                <button class=\"fr btn-dialog\"  data-id=\"2\">对话记录</button>\n                           \n                        </div>\n                    </li>\n\n                    <li >\n                        <div class=\"name-online\">\n                            <div class=\"d-inline-block\">\n                                <span class=\"icon-container d-inline-block\"><i class=\"iconfont icon-server\"></i></span>\n                                <span>客服001</span>\n                            </div>\n                            <div class=\"online-info fr \">\n                                <span class=\"circle\"></span>\n                                <span>在线</span>\n                            </div>\n                           \n                        </div>\n\n                        <div>\n                            <div class=\"dialog-info d-inline-block\">\n                                <div class=\"text-right\">\n                                    <span class=\"fl mr-1\">当前对话</span>\n                                    <span class=\"dialog-txt\">4</span>\n                                </div>\n                                <div class=\"text-right\">\n                                    <span class=\"fl mr-1\">今日对话</span>\n                                    <span class=\"dialog-txt\">15</span>\n                                </div>\n                            </div>\n                             \n                                <button class=\"fr btn-dialog\"  data-id=\"3\">对话记录</button>\n                           \n                        </div>\n                    </li>\n                </ul>\n                \n                 \n            </div>\n            <div class=\"customer-list ie-scroll other-scroll  \" [class]=\"tabIndex===2?'':'d-none'\">\n                <iframe  frameborder=0 style=\"width:100%;height:100%\"  src=\"http://localhost:4200/server\"></iframe>\n            </div>\n\n        </div>\n\n    </div>\n\n</div>\n\n\n<div class=\"alert d-none\" id=\"alert\">错误提示</div>","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Params } from '@angular/router';\nimport { ComService } from '../core/com.service';\nimport * as Canlendar from '../../assets/js/calendar';\n\n@Component({\n  selector: 'app-server',\n  templateUrl: './server.component.html',\n  styleUrls: ['./server.component.css'],\n})\nexport class ServerComponent implements OnInit {\n  chatList: any = [];\n  ws: any;\n  rid: any = 0;\n  // 当前用户\n  user: any;\n  // 用户列表\n  userList = [];\n  // 我的id\n  myID: number;\n  rightShow: string = '';\n  chatElem: any;\n  stateMenuShow: boolean = false;\n  allHistory: any = [];\n  rightHistory: any[] = [];\n  // 文件列表\n  files: any = [];\n  // 当前添加的文件/图片\n  // 是否显示用户列表\n  isShowUserList: boolean = false;\n  // 历史记录日历显示\n  historyDate: string = '';\n  // 是否显示月日历\n  isShowMonthCalendar: boolean = false;\n  constructor(private com: ComService, private route: ActivatedRoute) {}\n\n  ngOnInit(): void {\n    this.historyDate = this.com.formatTime('', 'YYYY-MM-DD');\n    this.initCalendar();\n    this.chatElem = document.getElementById('chat');\n    this.com.getUserList((data) => {\n      console.log('com.getUserList data: ', data);\n      if (data && data.length) {\n        data.forEach(d => {\n          // 5s不回应默认已掉线\n          d.state = Date.now() - d.note_at/1000000  < 5000\n        });\n        this.userList = data;\n        this.user = data[0];\n        this.getHistory();\n      }\n    });\n    // 开启轮询\n    let random = Date.now().toString();\n    this.com.pollingStart(this, random, 'role=1');\n  }\n  clickImg(e){\n    if(e.target.tagName.toLowerCase()==='img'){\n      this.com.previewOption.isShowMask = true;\n      this.com.previewOption.src = e.target.src;\n    }\n  }\n  initCalendar() {\n    let callback = (y, m, d) => {\n      this.historyDate = this.com.formatTime(\n        y + '-' + m + '-' + d,\n        'YYYY-MM-DD'\n      );\n    };\n    new Canlendar({\n      el: '#schedule-box',\n      clickCb: callback,\n      nextMonthCb: callback,\n      nextYeayCb: callback,\n      prevMonthCb: callback,\n      prevYearCb: callback,\n    });\n  }\n  keepEnd:boolean = false;\n  fileEmiter(e){\n    this.keepEnd = true;\n  }\n  // 历史记录按日期分离\n  getSpecialHistory(date) {\n    if (this.allHistory.length) {\n      this.rightHistory = this.allHistory.filter((el) => {\n        return el.timeFormat.indexOf(date) > -1;\n      });\n      this.isShowMonthCalendar = false;\n    }\n  }\n  showUserList() {\n    this.isShowUserList = !this.isShowUserList;\n  }\n  // 左侧切换用户\n  changeUser(i) {\n    \n    this.user = this.userList[i];\n    this.getHistory();\n  }\n  getHistory() {\n    this.com.getHistory(this, this.user.id, (data) => {\n      this.chatList = data || [];\n      setTimeout(()=>{\n      this.toBottom();\n    },1000)\n      if (this.rightShow) {\n        this.rightHistory = data;\n        this.allHistory = data;\n      }\n    });\n  }\n  toBottom() {\n    this.chatElem.scrollTop = this.chatElem.scrollHeight;\n  }\n  logout() {\n    // 登出\n    this.com.logout();\n    this.com.isLogin = false;\n  }\n   \n catchTab(e,callback){\n   callback && callback()\n   e.stopPropagation();\n }\n  showStateMenu() {\n    this.stateMenuShow = true;\n  }\n  hideShowing() {\n    this.stateMenuShow = false;\n    this.isShowUserList = false;\n    this.isShowMonthCalendar = false;\n  }\n  imgSrc: string = '';\n \n  rightHitoryShow(toggle) {  \n    if (!toggle) {\n      this.com.getHistory(this, this.user.id, (data) => {\n        // 显示右侧信息\n        this.rightShow = 'right-show';\n        this.rightHistory = data;\n        this.allHistory = data;\n      });\n    } else {\n      this.closeHistory();\n    }\n  }\n  closeHistory() {\n    \n    this.rightHistory = [];\n    this.rightShow = '';\n  }\n  showMonthCalendar() {\n    this.isShowMonthCalendar = !this.isShowMonthCalendar;\n  }\n  chooseDateConfirm() {\n    this.getSpecialHistory(this.historyDate);\n  }\n}\n","<div class=\"container clearfix\" >\n  <div class=\"title bg-base noselect pos-r\" ondragstart=\"return false\" id=\"nameTitle\">\n    <img src=\"assets/images/logo.png\" class=\"vm\">\n    <span>在线客服</span>\n    <div class='fr name  '>\n      <span class=\"mr-1\">客服{{myID}}</span>\n      <div class=\"d-inline-block\" (click)=\"showStateMenu();\">\n        <span class=\"iconfont icon-true online\"></span>\n        <span class=\"state-txt\">在线</span>\n        <i class=\"iconfont icon-dropdown\"></i>\n      </div>\n      <ul class=\"state-menu pos-a\" [class]=\"stateMenuShow?'show':''\">\n        <li class=\"active\">在线</li>\n        <li (click)=\"logout();\">登出</li>\n      </ul>\n    </div>\n\n  </div>\n  <!-- 内容区 -->\n  <div class=\"content clearfix\" [class]=\"rightShow\">\n\n    <!-- 左侧客户列表 -->\n    <div class=\"fl left ie-scroll other-scroll text-center \" [class]=\"isShowUserList?'pos-r':''\" >\n      <div class=\"menu \" (click)=\"showUserList();\">\n        <span class=\"iconfont icon-menu\" id=\"menu\"></span>\n      </div>\n      <div id=\"customers\" class=\"customers w-100 h-100 ie-scroll other-scroll \" [class]=\"isShowUserList?'show-list':''\">\n        <table class=\"user-list\" >\n          <tr [class]=\"user.id===u.id?'active':''\" *ngFor=\"let u of userList ;let i = index\" (click)=\"changeUser(i);\">\n            <td><span class=\"icon\" [class]=\"u.state?'new':'old'\" [title]=\"(u.state?'在':'离')+'线'\">{{u.state?'在':'离'}}</span></td>\n            <td>{{u.name||'游客'+u.id}}</td>\n            <td class=\"pos-r\">{{u.mall||'未知来源'}}<span *ngIf=\"u.unread\" class=\"unread-label pos-a\">110</span></td>\n          </tr>\n          <!-- <tr>\n                        <td><span class=\"icon new\">新</span></td>\n                        <td>15176367173</td>\n                        <td>广西桂林</td>\n                    </tr> -->\n          <tr *ngIf=\"!userList.length\">\n            <td colspan=\"3\">没有客户访问</td>\n          </tr>\n        </table>\n      </div>\n\n    </div>\n\n\n    <!-- -->\n    <div class=\"fr right\" id=\"history\">\n\n      <h2 class=\"\">\n        <span class=\"vm\">消息记录</span>\n        <i class=\"iconfont text-base icon-close vm-before fr mr-1  csr\" id=\"lisi\" (click)=\"closeHistory()\"></i>\n      </h2>\n      <div class=\"history-content ie-scroll other-scroll\">\n        <!-- 昨天有聊天的时间 hh:mm:ss 显示每条记录的时间客户 -->\n        <!-- 客户 -->\n        <div class=\"dialog-r\" *ngFor=\"let h of rightHistory\" (click)=\"clickImg($event)\">\n          <p [class]=\"h.isServer?'online':'text-base' \">\n            <span>{{h.isServer?'客服'+h.fid:h.name||'游客'+h.fid}}</span>\n            <span class=\"ml-1\">{{h.timeFormat}}</span>\n          </p>\n          <p class=\"ml-1\" [innerHTML]=\"h.data\"> </p>\n        </div>\n        <div class=\"dialog-r\" *ngIf=\"!rightHistory.length\">没有历史记录</div>\n        <!-- 客服 \n        <div class=\"dialog-r\">\n          <p class=\"online\"><span>客服001</span> <span>12:34:15</span></p>\n          <p class=\"ml-1\">聊天内容聊天内容</p>\n        </div>\n\n\n\n\n\n\n\n\n        <div class=\"dialog-r\">\n          <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n          <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n        </div>\n        <div class=\"dialog-r\">\n          <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n          <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n        </div>\n        <div class=\"dialog-r\">\n          <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n          <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n        </div>\n        <div class=\"dialog-r\">\n          <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n          <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n        </div>\n        <div class=\"dialog-r\">\n          <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n          <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n        </div>\n        <div class=\"dialog-r\">\n          <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n          <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n        </div>\n        <div class=\"dialog-r\">\n          <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n          <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n        </div>\n        <div class=\"dialog-r\">\n          <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n          <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n        </div>\n        <div class=\"dialog-r\">\n          <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n          <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n        </div>\n\n\n-->\n\n      </div>\n      <!-- 日历 -->\n      <div class=\"pos-r\">\n        <!-- 接入css -->\n        <div class=\" pos-a calendar\" [class]=\"isShowMonthCalendar?'':'d-none'\">\n          <div id='schedule-box' class=\"boxshaw\">\n          </div>\n          <div>\n\n          </div>\n        </div>\n        <div class=\"fixed-calendar boxshaw \" id=\"rili\">\n          <span class=\"ml-1 csr\" (click)=\"showMonthCalendar();\">\n            <i class=\"iconfont icon-calendar text-base vm\" id=\"kanRili\"></i>\n            <span id='riliTxt' class=\"vm\">{{historyDate}}</span>\n          </span>\n\n          <!-- <span class=\"history-op fr mr-1\" *ngIf=\"!isShowMonthCalendar\">\n            <i class=\"iconfont icon-left-stop bold\" title=\"上个月\"></i>\n            <i class=\"iconfont icon-less-than\" title=\"前一天\"></i>\n            <i class=\"iconfont icon-great-than\" title=\"下一天\"></i>\n            <i class=\"iconfont icon-right-stop bold\" title=\"下个月\"></i>\n          </span> -->\n          <button *ngIf=\"isShowMonthCalendar\" class=\"confirm-btn fr\" (click)=\" getSpecialHistory( historyDate); \"> 确定\n          </button>\n        </div>\n\n      </div>\n\n    </div>\n\n    <!-- 中/右侧聊天框 -->\n    <div class=\"center pos-r\" id=\"center\">\n      <div class=\"user-info pos-a\" *ngIf=\"user\">\n        <!-- <div id=\"user\"><i class=\"ml-1 iconfont icon-user text-lighter-base vm\" id=\"userIcon\"></i> <span\n            id=\"userName\">&nbsp;{{user.name|| '游客'+user.id}}</span></div>\n        <div class=' '>\n          <div>\n            <span><b>{{user.email}}</b></span>\n            <span><b>{{user.ip}}</b></span>\n            <span>访问页面：<b>{{user.domain}}</b></span>\n            <span>来源:<b class=\"mr-1\" [title]=\"user.domain\">{{user.mall}}</b></span>\n          </div>\n        </div> \n\n        <table class=\"w-100\">\n          <tr>\n            <td>\n              <i class=\"ml-1 iconfont icon-user text-lighter-base vm\" id=\"userIcon\"></i>\n              <span id=\"userName\">&nbsp;{{user.name|| '游客'+user.id}}</span>\n            </td>\n            <td *ngIf=\"user.email\">\n              <span><b>{{user.email}}</b></span>\n            </td>\n            <td *ngIf=\"user.ip\" class=\"d-480-none\">\n              <span><b>{{user.ip}}</b></span>\n            </td>\n            <td *ngIf=\"user.domain\" class=\"d-768-none\">\n              <span>访问页面：<b>{{user.domain}}</b></span>\n            </td>\n            <td *ngIf=\"user.mall\">\n              <span>来源:<b class=\"mr-1\" [title]=\"user.domain\">{{user.mall}}</b></span>\n            </td>\n          </tr>\n        </table>-->\n\n        <ul class=\"box\">\n          <li class=\"item\">\n            <i class=\"ml-1 iconfont icon-user text-lighter-base vm\" id=\"userIcon\"></i>\n            <span id=\"userName\">&nbsp;{{user.name|| '游客'+user.id}}</span>\n          </li>\n          <li *ngIf=\"user.email\" class=\"item\">\n            <span><b>{{user.email}}</b></span>\n          </li>\n          <li *ngIf=\"user.ip\" class=\"d-480-none item\">\n            <span><b>{{user.ip}}</b></span>\n          </li>\n          <li *ngIf=\"user.domain\" class=\"d-768-none item\">\n            <span>访问页面：<b>{{user.domain}}</b></span>\n          </li>\n          <li *ngIf=\"user.mall\" class=\"item\">\n            <span>来源:<b class=\"mr-1\" [title]=\"user.domain\">{{user.mall}}</b></span>\n          </li>\n        </ul>\n      </div>\n      <div class=\"chat pos-r ie-scroll other-scroll\" id='chat'>\n\n        <div class=\"chat-details\" [style]=\"{'margin-top':(user?42:0)+'px'}\">\n\n          <chat-content [chatList]=\"chatList\"></chat-content>\n          <chat-unread [who]=\"this\" [unread]=\"user?.unread\"></chat-unread>\n\n          <!-- 客户 \n                    <p class=\"dialog\">\n                        <span class=\"iconfont icon-user text-lighter-base vb-before mr-1\"></span>\n                        <span class=\"chat-content  bg-light-base tleft pos-r\">\n                            <span class=\"chat-content-txt text-left client-content \">我为什么购买不成功</span>\n                        </span>\n                    </p>-->\n\n          <!-- 客服 \n                    <p class=\"dialog text-right\">\n\n                        <span class=\"chat-content  bg-light-base tright pos-r mr-1 text-left\">\n                            <span>请问您现在停留在哪个页面，是在订单确认还是银联付款页面?请问您现在停留在哪个页面，是在订单确认还是银联付款页面</span>\n                        </span>\n                        <span class=\"iconfont icon-kefu text-lighter-base vb-before \"></span>\n                    </p>\n                    <p class=\"dialog text-right\">\n\n                        <span class=\"chat-content  bg-light-base tright pos-r mr-1 text-left\">\n                            <span>请问您现在停留在哪个页面，是在订单确认还是银联付款页面?请问您现在停留在哪个页面，是在订单确认还是银联付款页面</span>\n                        </span>\n                        <span class=\"iconfont icon-kefu text-lighter-base vb-before \"></span>\n                    </p>\n                    <p class=\"dialog text-right\">\n\n                        <span class=\"chat-content  bg-light-base tright pos-r mr-1 text-left\">\n                            <span>请问您现在停留在哪个页面，是在订单确认还是银联付款页面?请问您现在停留在哪个页面，是在订单确认还是银联付款页面</span>\n                        </span>\n                        <span class=\"iconfont icon-kefu text-lighter-base vb-before \"></span>\n                    </p>\n                    <p class=\"dialog text-right\">\n\n                        <span class=\"chat-content  bg-light-base tright pos-r mr-1 text-left\">\n                            <span>请问您现在停留在哪个页面，是在订单确认还是银联付款页面?请问您现在停留在哪个页面，是在订单确认还是银联付款页面</span>\n                        </span>\n                        <span class=\"iconfont icon-kefu text-lighter-base vb-before \"></span>\n                    </p>-->\n        </div>\n      </div>\n      <div class=\"edit-area\" id=\"edit\">\n        <edit-operate [who]=\"this\" (historyEmiter)=\"rightHitoryShow($event);\"  (fileEmiter)=\"fileEmiter($event)\"  [toggle]=\"!!rightShow\"></edit-operate>\n        <send-area [who]=\"this\" [keepEnd]=\"keepEnd\"></send-area>\n      </div>\n\n\n\n    </div>\n\n  </div>\n\n</div>\n\n<div class=\"alert d-none\" id=\"alert\">错误提示</div>\n","import { Component, Input, OnInit, SimpleChanges } from '@angular/core';\nimport { ComService } from 'src/app/core/com.service';\n \n@Component({\n  selector: 'chat-content',\n  templateUrl: './chat-content.component.html',\n  styleUrls: ['./chat-content.component.css']\n})\n\nexport class ChatContentComponent implements OnInit {\n  @Input() chatList;\n  constructor(\n    private com:ComService\n  ) { }\n\n  ngOnInit(): void {\n  }\n  \n  clickImg(e){\n    if(e.target.tagName.toLowerCase()==='img'){\n      // 图片点击要放大图片\n      this.com.previewOption.src = e.target.src;\n      this.com.previewOption.isShowMask = true;\n    }\n  }\n}\n","<div *ngFor=\"let c of chatList\">\n  <!-- 时间 -->\n  <p class=\"time\" *ngIf=\"c.timeStr\">{{c.timeStr}}</p>\n  <p class=\"dialog\" [class]=\"c.position?'':'text-right'\">\n    <!-- 自己发送的发送失败显示发送失败 -->\n    <span class=\"uploaded error mr-10\" title=\"发送失败!\" *ngIf=\"!c.position && c.isUploaded===-1\"><span class=\"iconfont icon-error\"></span></span>\n     <!-- 左侧发过来的信息显示发送成功，已读未读   -->\n    <span class=\"uploaded success mr-10\"  [title]=\"c.readed?'对方已读':'对方未读'\" *ngIf=\"!c.position && c.isUploaded ===1\"><span [class]=\"c.readed?'readed':'unread'\"></span></span>\n    <!-- 左边头像 *ngIf=\"c.isUploaded===-1\"-->\n    <span class=\"iconfont text-lighter-base vb-before mr-1\" [class]=\"c.isServer?'icon-server':'icon-user'\"\n      *ngIf=\"c.position\"></span>\n    <span class=\"chat-content  bg-light-base  pos-r\" [class]=\"c.position?'tleft':'tright  mr-1 text-left'\">\n      <!-- 图片或文件显示 -->\n      <span [class]=\"c.position?'chat-content-txt text-left client-content':'' \" *ngIf=\"c.type\">\n        <img [src]=\"c.webSrc || c.src\" *ngIf=\"c.msgType==='img'\" />\n        <i class=\"iconfont \" [class]=\"'icon-'+c.fileType\" *ngIf=\"c.msgType==='file'\"></i>\n        <a class=\"file-name\" [href]=\"c.webSrc||'javascript:;'\" *ngIf=\"c.msgType==='file'\">{{c.name}}</a>\n        <span *ngIf=\"c.uploadProgress > 0 && c.uploadProgress < 100\">\n          上传中：{{c.uploadProgress}}%\n        </span>        \n      </span>\n      <!-- 纯文本|data是html -->\n      <span class=\"chat-content-txt text-left client-content \" *ngIf=\"!c.msgType\"\n        [innerHTML]=\"c.data | toSafe:'html'\" (click)=\"clickImg($event)\"></span>\n      \n    </span>\n   \n    <!-- 右边头像 -->\n    <span class=\"iconfont text-lighter-base vb-before \" *ngIf=\"!c.position\"\n      [class]=\"c.isServer?'icon-server':'icon-user'\"></span>\n  </p>\n\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'chat-unread',\n  templateUrl: './chat-unread.component.html',\n  styleUrls: ['./chat-unread.component.css']\n})\nexport class ChatUnreadComponent implements OnInit {\n\n  constructor() { }\n  @Input() who :any;\n  @Input() unread:number;\n  ngOnInit(): void {\n  }\n  toBottom(){\n    this.who.toBottom();\n  }\n}\n","<div class=\"chat-unread pos-a\" (click)=\"toBottom()\" *ngIf=\"unread\">未读{{unread}}</div>","import { Component, EventEmitter, Output, Input, OnInit } from '@angular/core';\nimport { ComService } from 'src/app/core/com.service';\n\n@Component({\n  selector: 'edit-operate',\n  templateUrl: './edit-operate.component.html',\n  styleUrls: ['./edit-operate.component.css'],\n})\nexport class EditOperateComponent implements OnInit {\n  constructor(private com: ComService) {}\n  @Output() fileEmiter = new EventEmitter();\n  @Output() historyEmiter = new EventEmitter();\n  isServer: boolean = false;\n  @Input() who: any;\n  @Input() toggle: boolean = false;\n  isLogin: boolean = false;\n\n  ngOnInit(): void {\n    this.isServer = 'rid' in this.who;\n  }\n  /* getImage(e) {\n    let file = e.target.files[0];\n    console.log('file: ', file);\n    if (file.type.indexOf('image') > -1) {\n      window.URL = window.URL || window.webkitURL;\n      // this.imgEmiter.emit(window.URL.createObjectURL(file));\n      e.target.value = '';\n    } else {\n      this.com.showAlert('请选择png,jpg,gif图片进行上传');\n    }\n  }\n*/\n  getFile(e) {\n    \n    //  允许的文件类型\n    // .doc application/msword\n    // .docx application/vnd.openxmlformats-officedocument.wordprocessingml.document\n    // .xls application/vnd.ms-excel\n    // .xlsx  application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\n    // .ppt application/vnd.ms-powerpoint\n    // .pptx application/vnd.openxmlformats-officedocument.presentationml.presentation\n    // .pdf application/pdf\n    // .zip application/zip, application/octet-stream, application/x-zip-compressed, multipart/x-zip\n    // .rar application/x-rar-compressed, application/octet-stream\n    // .gz application/x-gzip\n    // .txt 'text/plain'\n    let permitType = [\n      'application/zip',\n      'application/octet-stream',\n      'application/x-zip-compressed',\n      'multipart/x-zip',\n      'application/x-rar-compressed',\n      'application/x-gzip',\n      'application/msword',\n      'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n      'application/vnd.ms-excel',\n      'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n      'application/vnd.ms-powerpoint',\n      'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n      'application/pdf',\n      'text/plain',\n    ];\n   \n    let file = e.target.files[0];\n    if (file.type.indexOf('image') > -1) {\n      // 是图片\n      this.com.preview(file, (src) => {\n        let obj = { type: 'img', fid: 'img' + Date.now(), src, file };\n        this.who.files.push(obj);        \n      });\n      this.fileEmiter.emit(true);\n    } else if (permitType.indexOf(file.type) > -1) {\n      // 是文件\n      let i = permitType.indexOf(file.type);\n      \n      let type =\n        i < 5\n          ? 'zip'\n          : i < 8\n          ? 'doc'\n          : i < 10\n          ? 'xls'\n          : i < 12\n          ? 'ppt'\n          : i === 12\n          ? 'pdf'\n          : 'txt';\n      let obj = {\n        type: 'file',\n        fileType: type,\n        file,\n        name: file.name,\n        fid: 'file' + Date.now(),\n      };\n      this.who.files.push(obj);\n \n       this.fileEmiter.emit(true);\n    } else {\n      this.com.showAlert('不支持此图片/文件格式');\n    }\n    e.target.value = '';\n  }\n\n  getHistory() {\n    // 显示右侧 然后把历史记录放到右侧去\n    if (this.isServer && !this.who.userList.length) return;\n    this.historyEmiter.emit(this.toggle);\n  }\n}\n","<div class=\"op pos-r\">\n    <!-- 选择图片 -->\n    <div class=\"pos-r\" >\n        <span class=\"iconfont icon-photo vm ml-1 csr\"></span>\n        <input type=\"file\" title=\"上传图片/文件\" class=\"pos-a file csr\"   (change)=\"getFile($event)\" [disabled]=\"isServer&& !who.userList.length\"/>\n        \n    </div>\n    <!-- 历史记录 -->\n    <span class=\"pos-a history-clock\" [class]=\"isServer?'':'d-none'\" (click)=\"getHistory()\">\n        <i id=\"historyIcon\" class=\"iconfont icon-clock mr-1 csr\"></i>\n    </span>\n</div>   \n\n","import {\n  Component,\n  EventEmitter,\n  Input,\n  OnInit,\n  Output,\n  SimpleChanges,\n} from '@angular/core';\nimport { ComService } from 'src/app/core/com.service';\n\n@Component({\n  selector: 'send-area',\n  templateUrl: './send-area.component.html',\n  styleUrls: ['./send-area.component.css'],\n})\nexport class SendAreaComponent implements OnInit {\n  @Input() who: any;\n  // @Output() sendListen = new EventEmitter();\n  @Input() keepEnd: boolean = false;\n  isServer: boolean = false;\n  target = null;\n  constructor(private com: ComService) {}\n  hasHolder = true;\n  editText: string = '';\n\n  text = '';\n  ngOnInit(): void {\n    this.target = document.getElementById('editDiv');\n    this.isServer = 'rid' in this.who;\n    this.setEditDivUsable();\n  }\n  ngOnChanges(changes: SimpleChanges): void {\n    if (this.keepEnd) {\n      this.keepLastIndex(this.target);\n    }\n  }\n\n  setBorder(d, e) {\n    d.border = !d.border;\n    let range = document.createRange();\n    range.selectNodeContents(e.target); // document.getElementById('test')\n    range.collapse(false);\n    let sel = window.getSelection();\n    sel.removeAllRanges();\n    sel.addRange(range);\n    this.editFocus();\n  }\n  // 不支持直接粘贴图片的情况下要用到这个函数\n  editPaste(e) {\n    var cbd = e.clipboardData;\n    console.log('editPaste: ', cbd);\n    var ua = window.navigator.userAgent;\n    console.log('ua: ', ua);\n    // 如果是 Safari 直接 return\n    if (!(e.clipboardData && e.clipboardData.items)) {\n      console.log('e.clipboardData: ', e.clipboardData);\n      return;\n    }\n    // Mac平台下Chrome49版本以下 复制Finder中的文件的Bug Hack掉\n    if (\n      cbd.items &&\n      cbd.items.length === 2 &&\n      cbd.items[0].kind === 'string' &&\n      cbd.items[1].kind === 'file' &&\n      cbd.types &&\n      cbd.types.length === 2 &&\n      cbd.types[0] === 'text/plain' &&\n      cbd.types[1] === 'Files' &&\n      ua.match(/Macintosh/i) &&\n      Number(ua.match(/Chrome\\/(\\d{2})/i)[1]) < 49\n    ) {\n      console.log('Mac Chorme49一下不支持贴图');\n      return;\n    }\n    !cbd.items.length && this.com.showAlert('只能粘贴截图');\n    for (var i = 0; i < cbd.items.length; i++) {\n      var item = cbd.items[i];\n      if (item.kind == 'file') {\n        // blob 就是从剪切板获得的文件 可以进行上传或其他操作\n        var blob = item.getAsFile();\n        if (blob.size === 0) {\n          return;\n        }\n      }\n      // 图片就预览 -文件也预览,可以上传的文件blob\n      if (item.type.indexOf('image') > -1) {\n        e.preventDefault();\n        this.com.preview(blob, (src) => {\n          // 如果前面是一个img标签且是data开头\n          this.who.files.push({\n            type: 'img',\n            src,\n            file: blob,\n            fid: 'img' + Date.now(),\n          });\n          this.keepLastIndex(this.target);\n        });\n      }\n    }\n  }\n  // 定位光标到最后\n  keepLastIndex(obj) {\n    if (window.getSelection) {\n      //ie11 10 9 ff safari\n      obj.focus(); //解决ff不获取焦点无法定位问题\n      var range = window.getSelection(); //创建range\n      range.selectAllChildren(obj);\n      range.collapseToEnd();\n    }\n  }\n  setEditDivUsable() {\n    // 服务端判断\n    if (this.isServer) {\n      this.who.userList.length &&\n        this.target.setAttribute('contenteditable', true);\n    } else {\n      this.target.setAttribute('contenteditable', true);\n    }\n  }\n  editFocus() {\n    this.hasHolder = false;\n  }\n  editBlur(e) {\n    this.editText = e.target.innerHTML;\n    this.hasHolder = !this.editText;\n  }\n\n  editInput(e) {\n    // console.log('editInput: ');\n  }\n  editKeyUp(e) {\n    if (e.keyCode === 13) {\n      // 回车发送\n      this.send();\n    }\n  }\n  ngAfterContentChecked(): void {\n    this.setEditDivUsable();\n  }\n  clickImg(e) {\n    this.com.previewOption.isShowMask = true;\n    this.com.previewOption.src = e.target.src;\n  }\n\n  send() {\n    this.editText = this.target.innerHTML;\n    // 去掉注释节点-换行<br>成空\n    let div: any = document.createElement('div');\n    div.innerHTML = this.editText;\n    console.log('div.childNodes',div.childNodes)\n    div.removeChild(div.childNodes[div.childNodes.length - 1]);\n    let editTxt = div.innerHTML;\n    editTxt = editTxt.replace(/<br>/g, '').trim();\n\n    if (editTxt) {\n      // 分析editText\n      let content: any = { data: editTxt, mark: Date.now().toString() };\n      // 显示到聊天框右侧\n      content.isServer = this.isServer;\n      content.position = false;\n      this.who.chatList.push(content);\n      this.isServer && (content.rid = this.who.user.id);\n      this.who.toBottom();\n\n      let count = 0;\n      this.who.files.forEach((file, i) => {\n        this.editText.indexOf(file.fid) === -1 && this.who.files.splice(i, 1);\n      });\n      if (this.who.files.length) {\n        // 判断files 有没有删除掉\n        this.who.files.forEach((el) => {\n          this.com.uploadFile(\n            el,\n            (file, err?) => {\n              if (err) {\n                // 发送失败\n                let i = this.who.chatList.findIndex(\n                  (x) => x.mark === content.mark\n                );\n                i > -1 && (this.who.chatList[i].isUploaded = -1);\n              } else {\n                count++;\n                let span = null;\n                console.log(div.childNodes);\n                Array.from(div.childNodes).forEach((el: any) => {\n                  console.log('el.id: ', el.id);\n                  console.log('file.fid', file.fid);\n                  el.id === file.fid && (span = el);\n                });\n                try {\n                  if (file.type === 'img') {\n                    span.children[0].setAttribute('src', file.src);\n                  } else if (file.type === 'file') {\n                    span.children[1].setAttribute('href', file.src);\n                    span.children[1].setAttribute('download', file.name);\n                  }\n                } catch (e) {}\n                if (count === this.who.files.length) {\n                  content.data = div.innerHTML;\n                  this.sendMsg(content);\n                }\n              }\n            },\n            (file) => {\n              // chatList 显示进度条\n              // content.uploadProgress = file.uploadProgress;\n            }\n          );\n        });\n      } else {\n        // 没有文件时\n        this.sendMsg(content);\n      }\n    } else {\n      this.com.showAlert('请填写消息');\n    }\n    let lastNode = this.target.childNodes[this.target.childNodes.length - 1];\n    this.target.innerHTML = '';\n    this.target.appendChild(lastNode);\n  }\n  sendMsg(content) {\n    this.com.sendMsg(\n      content,\n      (data) => {\n        this.who.files = [];\n        let i = this.who.chatList.findIndex((x) => x.mark === content.mark);\n        i > -1 && (this.who.chatList[i].isUploaded = 1);\n        setTimeout(() => {\n          this.who.toBottom();\n        }, 1000);\n      },\n      (res) => {\n        // 失败-客户端就显示失败的消息到聊天框\n        if (res && res.msg === '客服不在线') {\n          let offline: any = {\n            data: '客服不在线,请过几分钟后再访问',\n            mark: Date.now().toString(),\n          };\n          offline.isServer = true;\n          offline.position = true;\n          this.who.chatList.push(offline);\n          setTimeout(() => {\n            this.who.toBottom();\n          }, 1000);\n        } else {\n          let i = this.who.chatList.findIndex((x) => x.mark === content.mark);\n          i > -1 && (this.who.chatList[i].isUploaded = -1);\n        }\n      }\n    );\n  }\n}\n","<div class=\"send-area clearfix\">\n  <div name=\"editText\" class=\"textarea pos-r  vm  ie-scroll other-scroll\"\n    [class]=\"hasHolder?(isServer && !who.userList.length?'placeholder-disabled':'placeholder'):''\" (focus)=\"editFocus()\"\n    (blur)=\"editBlur($event)\" (input)=\"editInput($event)\" (keyup)=\"editKeyUp($event)\" id=\"editDiv\"\n    (paste)=\"editPaste($event)\">\n\n    <span *ngFor=\"let d of who.files\" contenteditable=\"false\" [class]=\"{border:d.border,'file-box':d.type==='file'}\"\n       [id]=\"d.fid\" class=\"d-inline-block \">\n      <!-- 图片-->\n      <img [src]=\"d.src\" *ngIf=\"d.type==='img'\" onerror=\"this.src='/assets/images/error.jpg'\" (click)=\"clickImg($event)\"/>\n\n      <!-- 文件 -->\n      <i class=\"iconfont \" [class]=\"'icon-'+d.fileType\" *ngIf=\"d.type==='file'\"></i>\n      <a class=\"file-name\" [href]=\"d.src||'javascript:;'\" *ngIf=\"d.type==='file'\" [title]=\"d.name\">{{d.name}}</a>\n\n      <!-- 文字 \n      <span *ngIf=\"!d.type\">{{d.data}}</span>-->\n    </span>\n\n\n  </div>\n\n\n\n\n  <button class=\"bg-light-base fr vm csr\" (click)=\"send()\" [disabled]=\"isServer && !who.userList.length\">发送</button>\n</div>\n",";(function (undefined) {\n    var _global;\n    //工具函数\n    //配置合并\n    function extend (def,opt,override) {\n        for(var k in opt){\n            if(opt.hasOwnProperty(k) && (!def.hasOwnProperty(k) || override)){\n                def[k] = opt[k]\n            }\n        }\n        return def;\n    }\n    //日期格式化\n    function formartDate (y,m,d,symbol) {\n        symbol = symbol || '-';\n        m = (m.toString())[1] ? m : '0'+m;\n        d = (d.toString())[1] ? d : '0'+d;\n        return y+symbol+m+symbol+d\n    }\n \n    function Schedule (opt) {\n        var def = {},\n            opt = extend(def,opt,true),\n            curDate = opt.date ? new Date(opt.date) : new Date(),\n            year = curDate.getFullYear(),\n            month = curDate.getMonth(),\n            day = curDate.getDate(),  \n            currentYear = curDate.getFullYear(),\n            currentMonth = curDate.getMonth(),\n            currentDay = curDate.getDate(),\n            selectedDate = '',\n            el = document.querySelector(opt.el) || document.querySelector('body'),\n            _this = this;\n        var bindEvent = function (){\n            el.addEventListener('click',function(e){\n                switch (e.target.id) {\n                    case 'nextMonth': \n                        _this.nextMonthFun();\n                        break;\n                    case 'nextYear': \n                        _this.nextYearFun();\n                        break;\n                    case 'prevMonth': \n                        _this.prevMonthFun();\n                        break;\n                    case 'prevYear': \n                        _this.prevYearFun();\n                        break;\n                    default:\n                        break;\n                };\n                if(e.target.className.indexOf('currentDate') > -1){\n                    opt.clickCb && opt.clickCb(year, month+1, e.target.innerHTML);\n                    selectedDate = e.target.title;\n                    day = e.target.innerHTML;\n                    render();\n                }\n            },false)\n        }\n        var init = function () {\n            var scheduleHd = '<div class=\"schedule-hd\">'+\n                                '<div>'+\n                                    '<span class=\"icon iconfont icon-double-less-than\" id=\"prevYear\" title=\"上一年\"></span>'+\n                                    '<span class=\"arrow icon iconfont icon-less-than\" id=\"prevMonth\" title=\"上一月\"></span>'+\n                                '</div>'+\n                                '<div class=\"today\">'+formartDate(year,month+1,day,'-')+'</div>'+\n                                '<div>'+\n                                    '<span class=\"arrow icon iconfont icon-great-than\" id=\"nextMonth\" title=\"下一月\"></span>'+\n                                    '<span class=\"arrow icon iconfont icon-double-great-than\" id=\"nextYear\" title=\"下一年\"></span>'+\n                                '</div>'+\n                            '</div>'\n            var scheduleWeek = '<ul class=\"week-ul ul-box\">'+\n                                    '<li class=\"text-red\">日</li>'+\n                                    '<li>一</li>'+\n                                    '<li>二</li>'+\n                                    '<li>三</li>'+\n                                    '<li>四</li>'+\n                                    '<li>五</li>'+\n                                    '<li class=\"text-red\">六</li>'+\n                                '</ul>'\n            var scheduleBd = '<ul class=\"schedule-bd ul-box bg-white\" ></ul>'; \n            el.innerHTML = scheduleHd + scheduleWeek + scheduleBd;\n            bindEvent();\n            render();\n        }\n        var render = function () {\n            var fullDay = new Date(year,month+1,0).getDate(), //当月总天数\n            startWeek = new Date(year,month,1).getDay(), //当月第一天是周几\n            total = (fullDay+startWeek)%7 == 0 ? (fullDay+startWeek) : fullDay+startWeek+(7-(fullDay+startWeek)%7),//元素总个数\n            lastMonthDay = new Date(year,month,0).getDate(), //上月最后一天\n            eleTemp = [];\n            if(day > fullDay){\n                day = fullDay\n            }\n            for(var i = 0; i < total; i++){\n                if(i<startWeek){\n                    eleTemp.push('<li class=\"other-month\"><span class=\"dayStyle\">'+(lastMonthDay-startWeek+1+i)+'</span></li>')\n                }else if(i<(startWeek+fullDay)){\n                    var nowDate = formartDate(year,month+1,(i+1-startWeek),'-');\n                    var addClass = '';\n                    selectedDate == nowDate && (addClass = 'selected-style');\n                    formartDate(currentYear,currentMonth+1,currentDay,'-') == nowDate && (addClass = 'today-flag');\n                    eleTemp.push('<li class=\"current-month\" ><span title='+nowDate+' class=\"currentDate dayStyle '+addClass+'\">'+(i+1-startWeek)+'</span></li>')\n                }else{\n                    eleTemp.push('<li class=\"other-month\"><span class=\"dayStyle\">'+(i+1-(startWeek+fullDay))+'</span></li>')\n                }\n            }\n            el.querySelector('.schedule-bd').innerHTML = eleTemp.join('');\n            el.querySelector('.today').innerHTML = formartDate(year,month+1,day,'-');\n        };\n        this.nextMonthFun = function () {\n            if(month+1 > 11){\n                year += 1;\n                month = 0;\n            }else{\n                month += 1;\n            }\n            render();\n            opt.nextMonthCb && opt.nextMonthCb(year,month+1,day);\n        },\n        this.nextYearFun = function () {\n            year += 1;\n            render();\n            opt.nextYeayCb && opt.nextYeayCb(year,month+1,day);\n        },\n        this.prevMonthFun = function () {\n            if(month-1 < 0){\n                year -= 1;\n                month = 11;\n            }else{\n                month -= 1;\n            }\n            render();\n            opt.prevMonthCb && opt.prevMonthCb(year,month+1,day);\n        },\n        this.prevYearFun = function () {\n            year -= 1;\n            render();\n            opt.prevYearCb && opt.prevYearCb(year,month+1,day);\n        }\n        init();\n    }\n    //将插件暴露给全局对象\n    _global = (function(){return this || (0,eval)('this')}());\n    if(typeof module !== 'undefined' && module.exports){\n        module.exports = Schedule;\n    }else if (typeof define === \"function\" && define.amd){\n        define(function () {\n            return Schedule;\n        })\n    }else {\n        !('Schedule' in _global) && (_global.Schedule = Schedule);\n    }\n \n}());","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}